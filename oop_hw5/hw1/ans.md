## **1ï¼‰ç¬¬ä¸€æ®µä»£ç åˆ†æï¼šé€’å½’æ„é€ ä¸è¾“å‡º**

```cpp
class A {
public:
    A(int n):val(n){}
protected:
    int val;
};

class B : public A {
public:
    B(int n) :A(n)
    {
        pB = (n > 0 ? new B(n-1) : 0);
    }

    ~B() { delete pB; }

    void Display()
    {
        cout << val << endl;
        if (pB != 0)
            pB->Display();
    }

private:
    B* pB;
};
```

### ğŸ“Œ æ„é€ é€»è¾‘ï¼š

* `B(4)` è¢«åˆ›å»ºæ—¶ï¼Œä¼šé€’å½’æ„é€  `B(3) â†’ B(2) â†’ B(1) â†’ B(0) â†’ B(-1)` åœæ­¢ï¼ˆå›  `n == 0` æ—¶ `pB = 0`ï¼‰
* æ¯ä¸€å±‚çš„ `val` éƒ½æ˜¯å½“å‰ `n`

### ğŸ“Œ è¾“å‡ºé€»è¾‘ï¼š

`b.Display()` è°ƒç”¨åä¼šï¼š

```cpp
cout << 4
  -> Display() on B(3)
    cout << 3
      -> Display() on B(2)
        cout << 2
          -> Display() on B(1)
            cout << 1
              -> Display() on B(0)
                cout << 0
```

æ‰€ä»¥æœ€ç»ˆè¾“å‡ºæ˜¯ï¼š

```
4
3
2
1
0
```

### âœ… **è¿è¡Œç»“æœ1**ï¼š

```
4
3
2
1
0
```

---

## **2ï¼‰ç¬¬äºŒæ®µä»£ç åˆ†æï¼šæ„é€ é¡ºåºä¸æ‹·è´æ„é€ **

```cpp
class A {
public:
    A(int n):num(n) { Out(); }
    A(const A& rhs):num(rhs.num) { Out(); }
    void Out() { cout << num << endl; }
private:
    int num;
};

class B : public A {
public:
    B(A& a) : obj(a), A(1) { }
    void Out() { obj.Out(); }

private:
    A obj;
};
```

### ğŸ“Œ æ„é€ é¡ºåºæ³¨æ„ï¼š

åœ¨ `B(A& a) : obj(a), A(1)` ä¸­ï¼Œå°½ç®¡åˆå§‹åŒ–é¡ºåºå†™çš„æ˜¯å…ˆ `obj`ï¼Œå† `A`ï¼Œ**ä½†å®é™…æ„é€ é¡ºåºæ˜¯ï¼š**

1. å…ˆæ„é€ åŸºç±» Aï¼ˆå³ `A(1)`ï¼‰
2. å†æ„é€ æˆå‘˜å¯¹è±¡ `obj(a)`ï¼ˆè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼‰

### ğŸ“Œ main å‡½æ•°ï¼š

```cpp
A a(8);      // è¾“å‡ºï¼š8
B b1(a);     // é¡ºåºï¼š
             // A(1) â†’ è¾“å‡ºï¼š1
             // obj(a) æ‹·è´æ„é€  â†’ è¾“å‡ºï¼š8
B b2(b1);    // å’Œä¸Šé¢ç±»ä¼¼ï¼Œåªæ˜¯å¤åˆ¶çš„æ˜¯ b1 å¯¹è±¡çš„æˆå‘˜ obj
             // A(1) â†’ è¾“å‡ºï¼š1
             // obj(b1.obj) æ‹·è´æ„é€  â†’ è¾“å‡ºï¼š8

b2.Out();    // è°ƒç”¨ obj.Out() â†’ è¾“å‡ºï¼š8
```

### âœ… **è¿è¡Œç»“æœ2**ï¼š

```
8
1
8
1
8
8
```

---

## âœ… ä¸¤æ®µç¨‹åºçš„è¾“å‡ºåˆ†åˆ«æ˜¯ï¼š

### **ç¨‹åº1 è¾“å‡ºï¼š**

```
4
3
2
1
0
```

### **ç¨‹åº2 è¾“å‡ºï¼š**

```
8
1
8
1
8
8
```
